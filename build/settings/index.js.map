{"version":3,"file":"settings/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAqC;AAKN;AAG/B,MAAMI,cAAc,GAAGA,CAAE;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAM;EAC9C,OACIC,oDAAA,CAACN,kEAAe;IACZO,KAAK,EAAGR,mDAAE,CAAE,SAAS,EAAE,aAAc,CAAG;IACxCK,KAAK,EAAGA,KAAO;IACfC,QAAQ,EAAGA,QAAU;IACrBG,uBAAuB;EAAA,CAC1B,CAAC;AAEV,CAAC;AAED,MAAMC,cAAc,GAAGA,CAAE;EAAEL,KAAK;EAAEC;AAAS,CAAC,KAAM;EAC9C,OACIC,oDAAA,CAACL,gEAAa;IACVM,KAAK,EAAGR,mDAAE,CAAE,SAAS,EAAE,aAAc,CAAG;IACxCW,OAAO,EAAGN,KAAO;IACjBC,QAAQ,EAAGA,QAAU;IACrBG,uBAAuB;EAAA,CAC1B,CAAC;AAEV,CAAC;AAED,MAAMG,cAAc,GAAGA,CAAC;EAAEP,KAAK;EAAEC;AAAS,CAAC,KAAK;EAC5C,OACGC,oDAAA,CAACJ,8DAAW;IACRE,KAAK,EAAGA,KAAO;IACfC,QAAQ,EAAGA,QAAU;IACrBO,IAAI,EAAC;EAAK,CACb,CAAC;AAET,CAAC;AAED,MAAMC,aAAa,GAAGA,CAAC;EAAET,KAAK;EAAEC;AAAS,CAAC,KAAK;EAC3C,OACGC,oDAAA,CAACJ,8DAAW;IACPE,KAAK,EAAGA,KAAO;IACfC,QAAQ,EAAGA,QAAU;IACrBO,IAAI,EAAC;EAAU,CACnB,CAAC;AAET,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDwD;AACE;AACR;AAEnD,MAAMO,OAAO,GAAGA,CAAA,KAAM;EAClB,MAAM;IAAEC;EAAa,CAAC,GAAGN,4DAAW,CAAEG,qDAAa,CAAC;EACpD,MAAMI,OAAO,GAAGN,0DAAS,CAAIO,MAAM,IAC/BA,MAAM,CAAEL,qDAAa,CAAC,CAACM,UAAU,CAAC,CACtC,CAAC;EAED,IAAKF,OAAO,CAACG,MAAM,KAAK,CAAC,EAAG;IACxB,OAAO,IAAI;EACf;EAEA,OAAOlB,oDAAA,CAACY,6DAAU;IAACG,OAAO,EAAGA,OAAS;IAACI,QAAQ,EAAGL;EAAc,CAAE,CAAC;AACvE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACfoC;AAQN;AACQ;AACH;AACuD;AAE3F,MAAMa,UAAU,GAAGA,CAAE;EAAEC;AAAQ,CAAC,KAAM;EAClC,OACI5B,oDAAA,CAACsB,yDAAM;IAACO,OAAO,EAAC,SAAS;IAACD,OAAO,EAAGA,OAAS;IAACE,qBAAqB;EAAA,GAC7DrC,mDAAE,CAAE,MAAM,EAAE,aAAc,CACxB,CAAC;AAEjB,CAAC;AAED,MAAMsC,aAAa,GAAGA,CAAA,KAAM;EACxB,OACI/B,oDAAA,CAACqB,wEAAO;IAACW,KAAK,EAAG;EAAG,GACdvC,mDAAE,CAAE,cAAc,EAAE,aAAc,CAC/B,CAAC;AAElB,CAAC;AAGD,MAAMwC,YAAY,GAAGA,CAAA,KAAM;EACvB,MAAM;IACFC,OAAO;IACPC,UAAU;IACVC,OAAO;IACPC,UAAU;IACVC,OAAO;IACPC,UAAU;IACVC,MAAM;IACNC,SAAS;IACTC;EACJ,CAAC,GAAGhB,mDAAW,CAAC,CAAC;EAEjB,OACI1B,oDAAA,CAAA2C,2CAAA,QACI3C,oDAAA,CAAC+B,aAAa,MAAE,CAAC,EACjB/B,oDAAA,CAACa,6CAAO,MAAE,CAAC,EACXb,oDAAA,CAACuB,wDAAK,QACFvB,oDAAA,CAACwB,4DAAS,QACNxB,oDAAA,CAACyB,2DAAQ,QACLzB,oDAAA,CAACH,qDAAc;IACXC,KAAK,EAAGoC,OAAS;IACjBnC,QAAQ,EAAKD,KAAK,IAAMqC,UAAU,CAAErC,KAAM;EAAG,CAChD,CACK,CAAC,EACXE,oDAAA,CAACyB,2DAAQ,QACLzB,oDAAA,CAACG,qDAAc;IACXL,KAAK,EAAGsC,OAAS;IACjBrC,QAAQ,EAAKD,KAAK,IAAMuC,UAAU,CAAEvC,KAAM;EAAG,CAChD,CACK,CACH,CAAC,EACZE,oDAAA,CAACwB,4DAAS;IACNoB,KAAK,EAAGnD,mDAAE,CAAE,YAAY,EAAE,aAAc,CAAG;IAC3CoD,WAAW,EAAG;EAAO,GAErB7C,oDAAA,CAACyB,2DAAQ,QACLzB,oDAAA,CAACK,qDAAc;IACXP,KAAK,EAAGwC,OAAS;IACjBvC,QAAQ,EAAKD,KAAK,IAAMyC,UAAU,CAAEzC,KAAM;EAAG,CAChD,CAAC,EACFE,oDAAA,CAACO,oDAAa;IACVT,KAAK,EAAG0C,MAAQ;IAChBzC,QAAQ,EAAKD,KAAK,IAAM2C,SAAS,CAAE3C,KAAM;EAAG,CAC/C,CAEK,CACH,CACR,CAAC,EACRE,oDAAA,CAAC2B,UAAU;IAACC,OAAO,EAAGc;EAAc,CAAE,CACxC,CAAC;AAEX,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFoC;AACO;AACe;AACF;AACX;AAE9C,MAAMhB,WAAW,GAAGA,CAAA,KAAM;EACtB,MAAM,CAAEQ,OAAO,EAAEC,UAAU,CAAE,GAAGa,4DAAQ,CAAC,eAAe,CAAC;EACzD,MAAM,CAAEZ,OAAO,EAAEC,UAAU,CAAE,GAAGW,4DAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAEV,OAAO,EAAEC,UAAU,CAAE,GAAGS,4DAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAER,MAAM,EAAEC,SAAS,CAAE,GAAGO,4DAAQ,CAAC,EAAE,CAAC;EAE1C,MAAM;IAAEC;EAAoB,CAAC,GAAGzC,4DAAW,CAAEG,qDAAa,CAAC;EAC3DoC,6DAAS,CAAE,MAAM;IACbD,2DAAQ,CAAE;MAAEI,IAAI,EAAE;IAAkB,CAAE,CAAC,CAACC,IAAI,CAAIC,QAAQ,IAAM;MAC1DjB,UAAU,CAAEiB,QAAQ,CAACC,oBAAoB,CAACnB,OAAQ,CAAC;MACnDG,UAAU,CAAEe,QAAQ,CAACC,oBAAoB,CAACjB,OAAQ,CAAC;MACnDG,UAAU,CAAEa,QAAQ,CAACC,oBAAoB,CAACf,OAAQ,CAAC;MACnDG,SAAS,CAAEW,QAAQ,CAACC,oBAAoB,CAACb,MAAO,CAAC;IACrD,CAAE,CAAC;EACP,CAAC,EAAE,EAAG,CAAC;EAEP,MAAME,YAAY,GAAGA,CAAA,KAAM;IACvBI,2DAAQ,CAAE;MACNI,IAAI,EAAE,iBAAiB;MACvBI,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;QACFF,oBAAoB,EAAE;UAClBnB,OAAO;UACPE,OAAO;UACPE,OAAO;UACPE;QACJ;MACJ;IACJ,CAAE,CAAC,CAACW,IAAI,CAAE,MAAM;MACZF,mBAAmB,CACfxD,mDAAE,CAAE,iBAAiB,EAAE,aAAc,CACzC,CAAC;IACL,CAAE,CAAC;EACP,CAAC;EAED,OAAO;IACHyC,OAAO;IACPC,UAAU;IACVC,OAAO;IACPC,UAAU;IACVC,OAAO;IACPC,UAAU;IACVC,MAAM;IACNC,SAAS;IACTC;EACJ,CAAC;AACL,CAAC;AAED,iEAAehB,WAAW;;;;;;;;;;;;;;;;;;;ACtDkB;AACI;AACJ;AAE5C8B,2DAAQ,CAAE,MAAM;EACf,MAAME,IAAI,GAAGD,8DAAU,CACtBE,QAAQ,CAACC,cAAc,CAAE,sBAAuB,CACjD,CAAC;EAEDF,IAAI,CAACG,MAAM,CAAE7D,oDAAA,CAACiC,qDAAY,MAAE,CAAE,CAAC;AAChC,CAAE,CAAC;;;;;;;;;;;ACVH;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACsB","sources":["webpack://meilisearch/./src/settings/components/controls.js","webpack://meilisearch/./src/settings/components/notices.js","webpack://meilisearch/./src/settings/components/settings-page.js","webpack://meilisearch/./src/settings/hooks/use-settings.js","webpack://meilisearch/./src/settings/settings.js","webpack://meilisearch/./src/settings/index.scss","webpack://meilisearch/external window \"React\"","webpack://meilisearch/external window [\"wp\",\"apiFetch\"]","webpack://meilisearch/external window [\"wp\",\"components\"]","webpack://meilisearch/external window [\"wp\",\"data\"]","webpack://meilisearch/external window [\"wp\",\"domReady\"]","webpack://meilisearch/external window [\"wp\",\"element\"]","webpack://meilisearch/external window [\"wp\",\"i18n\"]","webpack://meilisearch/external window [\"wp\",\"notices\"]","webpack://meilisearch/webpack/bootstrap","webpack://meilisearch/webpack/runtime/compat get default export","webpack://meilisearch/webpack/runtime/define property getters","webpack://meilisearch/webpack/runtime/hasOwnProperty shorthand","webpack://meilisearch/webpack/runtime/make namespace object","webpack://meilisearch/./src/settings/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport {\n\tTextareaControl,\n\tToggleControl,\n    TextControl,\n} from '@wordpress/components';\n\n\nconst MessageControl = ( { value, onChange } ) => {\n    return (\n        <TextareaControl\n            label={ __( 'Message', 'meilisearch' ) }\n            value={ value }\n            onChange={ onChange }\n            __nextHasNoMarginBottom\n        />\n    );\n};\n\nconst DisplayControl = ( { value, onChange } ) => {\n    return (\n        <ToggleControl\n            label={ __( 'Display', 'meilisearch' ) }\n            checked={ value }\n            onChange={ onChange }\n            __nextHasNoMarginBottom\n        />\n    );\n};\n\nconst HostURLControl = ({ value, onChange }) => {\n    return (\n       <TextControl\n           value={ value }\n           onChange={ onChange }\n           type=\"url\"\n       />\n    );\n};\n\nconst APIKeyControl = ({ value, onChange }) => {\n    return (\n       <TextControl\n            value={ value }\n            onChange={ onChange }\n            type=\"password\"\n       />\n    );\n};\n\nexport { MessageControl, DisplayControl, HostURLControl, APIKeyControl };","import { useDispatch, useSelect } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { NoticeList } from '@wordpress/components';\n\nconst Notices = () => {\n    const { removeNotice } = useDispatch( noticesStore );\n    const notices = useSelect( ( select ) =>\n        select( noticesStore ).getNotices()\n    );\n\n    if ( notices.length === 0 ) {\n        return null;\n    }\n\n    return <NoticeList notices={ notices } onRemove={ removeNotice } />;\n};\n\nexport { Notices };","import { __ } from '@wordpress/i18n';\nimport {\n\t// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\n\t__experimentalHeading as Heading,\n\tButton,\n\tPanel,\n\tPanelBody,\n\tPanelRow,\n} from '@wordpress/components';\nimport { useSettings } from '../hooks';\nimport { Notices } from './notices';\nimport { MessageControl, DisplayControl, HostURLControl, APIKeyControl } from './controls';\n\nconst SaveButton = ( { onClick } ) => {\n    return (\n        <Button variant=\"primary\" onClick={ onClick } __next40pxDefaultSize>\n            { __( 'Save', 'meilisearch' ) }\n        </Button>\n    );\n};\n\nconst SettingsTitle = () => {\n    return (\n        <Heading level={ 1 }>\n            { __( 'Meiliesearch', 'meilisearch' ) }\n        </Heading>\n    );\n};\n\n\nconst SettingsPage = () => {\n    const {\n        message,\n        setMessage,\n        display,\n        setDisplay,\n        hostURL,\n        setHostURL,\n        APIKey,\n        setAPIKey,\n        saveSettings\n    } = useSettings();\n\n    return (\n        <>\n            <SettingsTitle />\n            <Notices />\n            <Panel>\n                <PanelBody>\n                    <PanelRow>\n                        <MessageControl\n                            value={ message }\n                            onChange={ ( value ) => setMessage( value ) }\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <DisplayControl\n                            value={ display }\n                            onChange={ ( value ) => setDisplay( value ) }\n                        />\n                    </PanelRow>\n                </PanelBody>\n                <PanelBody\n                    title={ __( 'Appearance', 'meilisearch' ) }\n                    initialOpen={ false }\n                >\n                    <PanelRow>\n                        <HostURLControl\n                            value={ hostURL }\n                            onChange={ ( value ) => setHostURL( value ) }\n                        />\n                        <APIKeyControl\n                            value={ APIKey }\n                            onChange={ ( value ) => setAPIKey( value ) }\n                        />\n                        \n                    </PanelRow>\n                </PanelBody>\n            </Panel>\n            <SaveButton onClick={ saveSettings } />\n        </>\n   );\n};\n\nexport { SettingsPage };","import { __ } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useEffect, useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\nconst useSettings = () => {\n    const [ message, setMessage ] = useState('Hello, World!');\n    const [ display, setDisplay ] = useState(true);\n    const [ hostURL, setHostURL ] = useState('');\n    const [ APIKey, setAPIKey ] = useState('');\n\n    const { createSuccessNotice } = useDispatch( noticesStore );\n    useEffect( () => {\n        apiFetch( { path: '/wp/v2/settings' } ).then( ( settings ) => {\n            setMessage( settings.meilisearch_settings.message );\n            setDisplay( settings.meilisearch_settings.display );\n            setHostURL( settings.meilisearch_settings.hostURL );\n            setAPIKey( settings.meilisearch_settings.APIKey );\n        } );\n    }, [] );\n\n    const saveSettings = () => {\n        apiFetch( {\n            path: '/wp/v2/settings',\n            method: 'POST',\n            data: {\n                meilisearch_settings: {\n                    message,\n                    display,\n                    hostURL,\n                    APIKey,\n                },\n            },\n        } ).then( () => {\n            createSuccessNotice(\n                __( 'Settings saved.', 'meilisearch' )\n            );\n        } );\n    };\n\n    return {\n        message,\n        setMessage,\n        display,\n        setDisplay,\n        hostURL,\n        setHostURL,\n        APIKey,\n        setAPIKey,\n        saveSettings\n    };\n};\n\nexport default useSettings;","import domReady from '@wordpress/dom-ready';\nimport { createRoot } from '@wordpress/element';\nimport { SettingsPage } from './components';\n\ndomReady( () => {\n\tconst root = createRoot(\n\t\tdocument.getElementById( 'meilisearch-settings' )\n\t);\n\n\troot.render( <SettingsPage /> );\n} );","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Import all Meilisearch settings\n *\n * File serves as an entry point for webpack.\n */\nimport './index.scss';\nimport './settings'"],"names":["__","TextareaControl","ToggleControl","TextControl","MessageControl","value","onChange","createElement","label","__nextHasNoMarginBottom","DisplayControl","checked","HostURLControl","type","APIKeyControl","useDispatch","useSelect","store","noticesStore","NoticeList","Notices","removeNotice","notices","select","getNotices","length","onRemove","__experimentalHeading","Heading","Button","Panel","PanelBody","PanelRow","useSettings","SaveButton","onClick","variant","__next40pxDefaultSize","SettingsTitle","level","SettingsPage","message","setMessage","display","setDisplay","hostURL","setHostURL","APIKey","setAPIKey","saveSettings","Fragment","title","initialOpen","apiFetch","useEffect","useState","createSuccessNotice","path","then","settings","meilisearch_settings","method","data","domReady","createRoot","root","document","getElementById","render"],"sourceRoot":""}